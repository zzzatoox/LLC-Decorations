# LLC Decorations - Магазин Украшений

## Описание
LLC Decorations - магазин по продаже украшений и аксессуаров для быта.
Реализованы основные модули ИС:
* неавторизованный клиент и авторизованный клиент может просматривать товары и формировать заказ
* менеджер может просматривать товары, формировать и редактировать заказы
* администратор может добавлять/редактировать/удалять товары, просматривать и редактировать заказы

## Установка
Перед использованием приложения необходимо скачать базу данных из [гугл диска](https://drive.google.com/file/d/1AcC5lIZn4r7QzgId1cFXC6KxVkoUmt5R/view?usp=sharing).
Загрузить ее на сервер.
В файле проекта Properties -> Settings изменить значение connectionString1 на Ваше строковое подключение к базе данных.

## Использование
**Авторизация
При запуске приложения окно входа – первое, что видит пользователь. 
На ней пользователю предлагается ввести свой логин и пароль или есть возможность перейти на экран просмотра товаров в роли гостя.
Только после удачной авторизации пользователь получает доступ к остальным модулям системы.

После входа в любую учетную запись реализована возможность выхода на главный экран – окно входа. 
При переходе в любую учетную запись в интерфейсе (правый верхний угол) отображается ФИО пользователя.
После первой попытки неуспешной авторизации система выдает сообщение о неуспешной авторизации, 
а затем помимо ввода логина и пароля просит ввести captcha, состоящую из 4 символов (цифры и буквы латинского алфавита) и графического шума.
После попытки неудачной авторизации с вводом captcha, система блокирует возможность входа на 10 секунд.

**Список товаров
Очень важно постоянно получать актуальную информацию об остатках товаров на складах, поэтому реализован вывод товаров, 
которые хранятся в базе данных.

Строки с данными о конкретном товаре подсвечиваются в зависимости от размера скидки. 
В случае если размер скидки превышает 15%, в качестве фона применяется цвет <span style="background-color:#7fff00">#7fff00.</span>

Пользователь имеет возможность отсортировать товары (по возрастанию и убыванию) по стоимости.
Кроме этого, пользователь должен имеет возможность отфильтровать данные по размеру скидки в диапазонах: 0-9,99%, 10-14, 15% и более. 
Первым элементом в выпадающем списке является “Все диапазоны”, при выборе которого настройки фильтра сбрасываются.
Пользователь должен иметь возможность искать товары, используя поисковую строку. *Поиск осуществляется по наименованию товара.

Поиск, сортировка и фильтрация происходят в реальном времени. Фильтрация и поиск применяются совместно. Параметры сортировки, выбранные ранее пользователем, должны сохраняться и во время фильтрации с поиском.

В верхней части окна показывается количество выведенных данных и общее количество записей в базе.

**Формирование заказа
Реализована возможность формирования заказа из окна просмотра списка товаров для авторизованных пользователей и для гостя.

При просмотре списка товаров пользователь может выделить товар, по нажатию правой клавиши мыши вызвать контекстное меню с командой «Добавить к заказу». 
При нажатии на команду происходит формирование заказа и добавление в заказ выбранной позиции в количестве 1 единицы.

Если хотя бы один товар добавлен к заказу в интерфейсе пользователя появляется кнопка для просмотра заказа.
Если ни один товар не добавлен к заказу кнопка просмотра заказа не отображается в интерфейсе.
При просмотре товаров все добавления производятся в один заказ.

Реализована возможность удалить товар, нажатием на кнопку удаления в интерфейсе корзины.

Для получения заказа формируется талон.

При формировании заказа:
* в реальном времени ведется подсчет суммы заказа, подсчет скидки заказа, если в нем есть товары со скидкой
* заказу автоматически присваивается номер (+1 к существующему в БД)
* информация о заказе хранится в БД
* при создании статус заказа новый
* реализована возможность выбрать пункт выдачи

Талон содержит: дата заказа, номер заказа, состав заказа, сумму заказа, сумму скидки, пункт выдачи и код получения. 
Код состоит из 3 цифр, которые генерируются случайным образом при создании заказа. 
Если все заказы в наличии на складе в количестве более 3 позиций, то в талоне указывается срок доставки – 3 дня. 
Если менее 3 позиций или отсутствует, то 6 дней.

Если заказ формирует авторизованный клиент в окне просмотра заказа отображается ФИО клиента.

**Работа с заказами
Реализован интерфейс для работы с заказами, который доступен только менеджеру или администратору.

Реализована возможность просмотра всех данных по заказу: номер заказа, состав заказа, дата заказа, дата доставки, общая сумма заказа, общий размер скидки заказа, ФИО клиента (если заказ был сформирован авторизованным клиентом).
Если все товары в заказе есть на складе в наличии более 3 позиций, то строка с заказом выделена цветом <span style="background-color:#20b2aa">#20b2aa.</span>
Если хотя бы одного товара нет на складе, то строка выделена цветом <span style="background-color:#ff8c00">#ff8c00.</span>

Реализована возможность изменения статуса заказа и даты доставки, сортировка заказа по убыванию и возрастанию стоимости. 
Пользователь имеет возможность отфильтровать данные о заказах по размеру суммарной скидки в диапазонах: 0-10%, 11-
14%, 15% и более. Также есть возможность сбросить фильтрацию.
Сортировка и фильтрация работают без нажатия дополнительных элементов интерфейса.